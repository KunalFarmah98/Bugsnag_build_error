// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
    ext.kotlin_version = '1.6.10'

    repositories {
        gradlePluginPortal()
        mavenLocal()
        google()
        jcenter()
        mavenCentral()
    }

    dependencies {
        classpath 'com.android.tools.build:gradle:7.0.4'

        // NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
        classpath 'com.google.gms:google-services:4.3.10'
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
        classpath('com.google.firebase:perf-plugin:1.2.1') {
            exclude group: 'com.google.api-client', module: 'google-api-client'
        }
        classpath 'com.android.tools.build:bundletool:0.9.0'
        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.14'
        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.5.2'
        classpath 'com.bugsnag:bugsnag-android-gradle-plugin:7.+'

        //plugins required for building react-native from source
        classpath("de.undercouch:gradle-download-task:5.0.1")
        classpath("com.facebook.react:react-native-gradle-plugin")
    }


}



allprojects {

    repositories {
        google()
        jcenter()
        maven {
            url "https://www.jitpack.io"
        }
        flatDir {
            dirs 'libs'
        }
        maven {
            url 'https://maven.google.com/'
            name 'Google'
        }
        flatDir {
            dirs 'libs'
            dirs project(':app').file('libs')
        }
        mavenCentral {
            // We don't want to fetch react-native from Maven Central as there are
            // older versions over there.
            content {
                excludeGroup "com.facebook.react"
            }
        }
        maven { url 'https://artifacts.hansel.io/artifactory/android'}


        maven {
            // All of React Native (JS, Android binaries) is installed from npm
            url "$rootDir/../../../node_modules/react-native/android"
        }
        maven {
            // Android JSC is installed from npm
            url("$rootDir/../../../node_modules/jsc-android/dist")
        }

    }

    configurations {
        all {
            resolutionStrategy {
                force "android.arch.lifecycle:livedata-core:1.1.1"
                force "android.arch.lifecycle:viewmodel:1.1.1"
                force "android.arch.lifecycle:runtime:1.1.1"
                force "androidx.annotation:annotation:$x_annotation"
                force "androidx.appcompat:appcompat:$x_appcompat"
                force "androidx.arch.core:core-common:$x_corecommon"
                force "androidx.arch.core:core-runtime:$x_runtime"
                force "androidx.collection:collection:$x_collection"
                force "androidx.core:core:$x_core"
                force "androidx.core:core-ktx:$x_core"
                force "androidx.fragment:fragment:$x_fragment"
                force "androidx.lifecycle:lifecycle-extensions:$lifecycle_extensions"
                force "androidx.lifecycle:lifecycle-common:$lifecycle_extensions"
                force "androidx.lifecycle:lifecycle-livedata:$lifecycle_extensions"
                force "androidx.lifecycle:lifecycle-runtime:$lifecycle_extensions"
                force "androidx.lifecycle:lifecycle-process:$lifecycle_extensions"
                force "androidx.media:media:$x_media"
                force "androidx.recyclerview:recyclerview:$x_recyclerview"
                force "androidx.transition:transition:$x_recyclerview"

                force "com.squareup.okhttp3:okhttp:$okhttp_version"
                force "com.squareup.okio:okio:$okio_version"
                force "com.squareup.retrofit2:retrofit:$retrofit_version"
                force "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
                force "org.jetbrains.kotlinx:kotlinx-coroutines-core:$coroutines_version"
                force "org.jetbrains.kotlinx:kotlinx-coroutines-android:$coroutines_version"

                force "com.google.android.gms:play-services-location:$google_play_services_location"

                // making 3rd party sdks use our custom source for ReactAndroid
                dependencySubstitution {
                    substitute module("com.facebook.react:react-native:+") with project(":ReactAndroid")
                }

            }
        }
    }

    project.ext {
        min_sdk_version = 21
        target_sdk_version = 30
        compile_sdk_version = 30
        ndk_version = System.getenv('ANDROID_NDK_VERSION')

        x_cardview = "1.0.0"
        x_appcompat = "1.2.0"
        x_material = "1.0.0"
        x_recyclerview = "1.1.0"
        x_legacy_support_v4 = "1.0.0"
        x_constraintlayout = "1.1.3"
        x_gridlayout = "1.0.0"
        x_annotation = "1.2.0"
        x_corecommon = "2.1.0"
        x_runtime = "2.1.0"
        x_collection = "1.1.0"
        x_core = "1.3.2"
        x_fragment = "1.1.0"
        x_media = "1.1.0"
        x_transition = "1.1.0"
        x_room = "2.2.5"
        x_sqlite = "2.1.0"

        support_version = "28.0.0"

        lifecycle_version = "1.1.1"
        google_gson_version = "2.8.6"
        lifecycle_extensions = "2.1.0"
        lifecycle_compiler = "1.1.1"
        archRoomVersion = "1.1.0"
        retrofit_version = "2.7.2"
        junit_version = "4.12"
        mockito_version = "1.10.19"
        mockito_android_version = "2.7.22"
        jobdispatcher_version = "0.7.0"
        espressoVersion = "3.0.2"
        dagger_version = '2.13'
        view_indicator_version = '2.4.1'
        okhttp3_logging_version = '3.9.0'
        constraint_layout_version = '1.0.2'
        rx_android_version = '2.0.2'
        rx_java_version = '2.1.9'
        rx_kotlin_version = '2.1.0'
        google_play_services_gcm = "16.0.0"
        google_play_services_places = "17.0.0"
        google_play_services_auth = "17.0.0"
        google_play_services_phone = "17.1.0"
        google_play_services_maps = "16.0.0"
        google_play_services_location = "16.0.0"
        google_play_services_tag = "17.0.0"
        firebase_core = "17.2.0"
        firebase_messaging = "20.0.0"
        firebase_app_indexing = '17.1.0'
        firebase_config = "21.0.0"
        firebase_perf = "20.0.2"
        glide_version = "4.12.0"

        facebook_soloader = "0.10.3+"
        okhttp_version = "4.9.3"
        okio_version = "3.0.0"
        coroutines_version = "1.6.0"
    }
}
